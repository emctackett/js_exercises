<html>
  <script>
    function substringsAtStart(string) {
      return string.split('').map(function(val, idx) {
        return string.slice(0, idx + 1);
      });
    }

    function substrings(string) {
      return string.split('').map(function(val, idx) {
        return substringsAtStart(string.slice(idx));
      }).reduce(function(result, array) {
        return result.concat(array);
      });
    }

    function palindromes(string) {
      return substrings(string).filter(function(substr) {
        return substr.length > 1 && substr === substr.split('').reverse().join('');
      });
    }

    console.log(palindromes('abcd'));  // []
    console.log(palindromes('madam')); // ['madam', 'ada']
    console.log(palindromes('hello-madam-did-madam-goodbye'));
    // [ 'll', '-madam-', '-madam-did-madam-', 'madam', 'madam-did-madam', 'ada', 'adam-did-mada', 'dam-did-mad', 'am-did-ma', 'm-did-m', '-did-', 'did','-madam-', 'madam', 'ada', 'oo' ]

    console.log(palindromes('knitting cassettes'));
    //[ 'nittin', 'itti', 'tt', 'ss', 'settes', 'ette', 'tt' ]
  </script>
</html>